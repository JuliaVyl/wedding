<!DOCTYPE html>
<html lang="en" class="astro-CRZ6RAJP">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<link rel="icon" type="image/svg+xml" href="/favicon.svg">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="stylesheet" href="/static/css/normalize.css">
		<link href="https://fonts.googleapis.com/css2?family=Arvo:wght@400;700&family=Cedarville+Cursive&family=Dawning+of+a+New+Day&family=La+Belle+Aurore&family=Nothing+You+Could+Do&family=Oooh+Baby&display=swap" rel="stylesheet">
		<meta name="generator" content="Astro v1.2.3">
		<title>Happy Wedding ♥</title>
	<link rel="stylesheet" href="/assets/index.e4ec5d54.css" /><script type="module">ymaps.ready(m);function m(){var a=new ymaps.Map("map",{center:[58.61605910515243,49.6774369],zoom:15}),e=new ymaps.Placemark([58.61605910515243,49.6774369],{hintContent:"\u0421\u044E\u0434\u0430"},{iconImageHref:"https://www.svgrepo.com/show/81154/marriage-rings-couple-with-a-heart.svg",iconImageOffset:[-20,0]});a.geoObjects.add(e)}
</script></head>
	<body class="astro-CRZ6RAJP">
		<main id="fullpage" class="astro-SY534DO2">
		<section class="section section_black intro astro-SY534DO2">
			<p class="title name astro-SY534DO2">
				Ю_А
			</p>
			<p class="title event astro-SY534DO2">СВАДЬБА</p>
		</section>

		<section class="section time_left astro-SY534DO2">
			<p class="title name astro-SY534DO2">
				TIME_LEFT
			</p>
			<p class="timer astro-SY534DO2">
				<style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).only=t=>{(async()=>await(await t())())()},window.dispatchEvent(new Event("astro:only"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t)},o=(t,i)=>{if(t===""||!Array.isArray(i))return i;const[e,n]=i;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const i=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const s of n){const r=s.closest(this.tagName);!r||!r.isSameNode(this)||(e[s.getAttribute("data-astro-template")||"default"]=s.innerHTML,s.remove())}for(const s of i){const r=s.closest(this.tagName);!r||!r.isSameNode(this)||(e[s.getAttribute("name")||"default"]=s.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((i,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate),await import(this.getAttribute("before-hydration-url")),this.start()}start(){const i=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:s}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),r=this.getAttribute("component-export")||"default";if(!r.includes("."))this.Component=a[r];else{this.Component=a;for(const d of r.split("."))this.Component=this.Component[d]}return this.hydrator=s,this.hydrate},i,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="TDO3m" component-url="/Timer.7fba08aa.js" component-export="Timer" renderer-url="/client-v17.f3d878d3.js" props="{&quot;class&quot;:[0,&quot;astro-SY534DO2&quot;]}" ssr="" client="only" before-hydration-url="data:text/javascript;charset=utf-8,//[no before-hydration script]" opts="{&quot;name&quot;:&quot;Timer&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island>
			</p>
		</section>

		<section class="section section_black guests astro-SY534DO2">
			<p class="title name title__guests astro-SY534DO2">
				ДОРОГИЕ_ГОСТИ
			</p>
			<p class="text astro-SY534DO2">
				Приглашаем вас на торжество, посвященное нашему бракосочетанию
			</p>
		</section>

		<section class="section plan astro-SY534DO2">
			<p class="title name astro-SY534DO2">
				ПЛАН
			</p>
			<p class="steps astro-SY534DO2">
				</p><ul class="text astro-SY534DO2">
					<li class="astro-SY534DO2">
						14:00 Cбор гостей
					</li>
					<li class="astro-SY534DO2">
						14:30 Церемония
					</li>
					<li class="astro-SY534DO2">
						15:00 Фото с гостями
					</li>
					<li class="astro-SY534DO2">
						15:20 Фуршет
					</li>
					<li class="astro-SY534DO2">
						16:00 Банкет
					</li>
				</ul>
			
		</section>

		<section class="section section_black dress astro-SY534DO2">
			<p class="title name astro-SY534DO2">
				ДРЕСС_КОД
			</p>
			<p class="text astro-SY534DO2">
				Зачем нам дресс-код? Только если дресс-КОТ! Хахахахах, ну а если серьезно - мужчины в брюках, рубашках (костюмы - по желанию), девушки - в красивых платьях (желательно спокойных тонов)
			</p>
		</section>

		<section class="section place astro-SY534DO2">
			<p class="title name astro-SY534DO2">
				МЕСТО
			</p>
			<p class="text astro-SY534DO2">
				Адрес - Киров, Ресторан Terrace, Профсоюзная ул. 23
				<script src="//api-maps.yandex.ru/2.0/?load=package.standard,package.geoObjects&lang=ru-RU" type="text/javascript"></script>
				</p><div id="map" class="astro-SY534DO2"></div>
			
		</section>

		<section class="section section_black about-guest astro-SY534DO2">
			<p class="title name astro-SY534DO2">
				О_ВАС
			</p>
			<p class="text astro-SY534DO2">
				</p><form id="form" class="form astro-SY534DO2">
					<div class="field astro-SY534DO2">
						<label for="firstname" class="text astro-SY534DO2">Имя</label>
						<input type="text" name="firstname" required class="astro-SY534DO2">
					</div>
					<div class="field astro-SY534DO2">
						<label for="secondname" class="text astro-SY534DO2">Фамилия</label>
						<input type="text" name="secondname" required class="astro-SY534DO2">
					</div>
					<div class="field astro-SY534DO2">
						<label for="plus-one" class="text astro-SY534DO2">Плюс 1?</label>
						<input type="checkbox" name="plus-one" class="astro-SY534DO2">
					</div>
					<div class="field astro-SY534DO2">
						<label for="okay" class="text astro-SY534DO2">Приду :)</label>
						<input type="radio" name="okay" checked value="okay" class="astro-SY534DO2">
					</div>
					<div class="field astro-SY534DO2">
						<label for="okay" class="text astro-SY534DO2">Не приду :(</label>
						<input type="radio" name="okay" value="not-okay" class="astro-SY534DO2">
					</div>
					<div class="field astro-SY534DO2">
						<button type="submit" id="btn-submit" class="text button astro-SY534DO2">Тыкнуть</button>
					</div>
				</form>
			
		</section>
	</main>

		<script type="module">
			import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.9.4/firebase-app.js'

			import { setDoc, getFirestore, doc } from 'https://www.gstatic.com/firebasejs/9.9.4/firebase-firestore.js'

			const firebaseConfig = {
				apiKey: (Object.assign({"PUBLIC_API_KEY":"AIzaSyDoLbGU9nfcfNCzUvP3787Q7vRiaAXeR0Q","BASE_URL":"/","MODE":"production","DEV":false,"PROD":true},{_:process.env._,})).PUBLIC_API_KEY,
				authDomain: "wedding-abe1d.firebaseapp.com",
				projectId: "wedding-abe1d",
				storageBucket: "wedding-abe1d.appspot.com",
				messagingSenderId: "308785874685",
				appId: "1:308785874685:web:a4a96c319c08989892a094"
			};
			const firebaseApp = initializeApp(firebaseConfig);
			const db = getFirestore(firebaseApp)

			const form = document.getElementById('form')
			const submitBtn = document.getElementById('btn-submit')
			const isSubmitted = localStorage.getItem('submitted')

			if (isSubmitted) {
				submitBtn.textContent = 'Тыкнуто'
				submitBtn.disabled = true
			}

			form.onsubmit = async (e) => {
				e.preventDefault();

				const formData = new FormData(e.target);
				const data = Object.fromEntries(formData);

				submitBtn.textContent = 'Тыкаю'
				try {
					await setDoc(doc(db, "guests", data.firstname), data);
					form.reset();
					submitBtn.textContent = 'Тыкнуто'
					submitBtn.disabled = true
					localStorage.setItem('submitted', 'true')
				} catch {
					console.error('error while sending');
				}
			}
		</script>
	</body>
</html>


